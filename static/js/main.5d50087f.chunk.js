(this["webpackJsonpcoding-challenge"]=this["webpackJsonpcoding-challenge"]||[]).push([[0],{22:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),s=n(14),i=n.n(s),o=(n(22),n(2)),u=n(5),l=n.n(u),j=n(15);n(24),n(25);function h(e){var t=e.setSearchTerm,n=c.a.useState(""),r=Object(o.a)(n,2),s=r[0],i=r[1];return Object(a.jsx)("div",{className:"search-bar",children:Object(a.jsxs)("form",{action:"",children:[Object(a.jsx)("label",{htmlFor:"",children:Object(a.jsx)("h3",{style:{display:"inline"},children:"Search Restaurant"})}),Object(a.jsx)("input",{style:{marginLeft:"10px",padding:"8px",fontSize:"14px"},type:"text",placeholder:"What you in the mood for?",value:s,onChange:function(e){!function(e){var n=e.target.value;""===n&&t(""),i(n)}(e)}}),Object(a.jsx)("button",{onClick:function(e){e.preventDefault(),t(s)},className:"btn-search",children:"Fooood!"})]})})}n(26),n(27);function f(e){var t=e.selectedHeader,n=e.values,r=e.setGenreFilter,c=e.setStateFilter;return Object(a.jsx)("div",{style:{position:"absolute",bottom:"0",right:"0"},children:Object(a.jsxs)("select",{onChange:function(e){!function(e){"Choose state"===e.target.value?c(e.target.value):"Choose genre"===e.target.value.length||(e.target.value.length>2?r(e.target.value):c(e.target.value))}(e)},name:"cars",id:"cars",children:[Object(a.jsx)("option",{value:"genre"===t?"Choose genre":"Choose state",children:"genre"===t?"Choose genre":"Choose state"}),n.map((function(e){return Object(a.jsx)("option",{datatype:"test",value:e,children:e},e)}))]})})}n(28);function d(e){var t=e.setTablePaginationInd,n=e.tablePaginationInd,r=e.numOfRestaurants,s=c.a.useState({previous:!1,next:!0}),i=Object(o.a)(s,2),u=i[0],l=i[1];c.a.useEffect((function(){r&&(r<10?l({previous:!1,next:!1}):0===n[0]?l({previous:!1,next:!0}):n[1]>=r?l({previous:!0,next:!1}):l({previous:!0,next:!0}))}),[n]);return Object(a.jsxs)("div",{className:"btn-container",children:[Object(a.jsx)("div",{className:u.previous?"btn":"btn-inactive",onClick:function(){var e;if(r){if(n[0]<=0)return;e=[n[0]-10,n[1]-10],t(e)}},children:"Previous"}),Object(a.jsx)("div",{className:u.next?"btn":"btn-inactive",onClick:function(){var e;if(r){if(n[1]>=r)return;e=[n[0]+10,n[1]+10],t(e)}},children:"Next"})]})}function b(e,t,n){var a=t.split("").map((function(e){return e.toLowerCase()})).join("");return e.split(",").map((function(e){return e.toLowerCase()})).join(" ").includes(a)}var p=function(e){switch(e){case"name":return Object(a.jsx)("span",{children:"\ud83c\udf74"});case"city":return Object(a.jsx)("span",{children:"\ud83c\udfd9"});case"genre":return Object(a.jsx)("span",{children:"\ud83e\udd58"});case"state":return Object(a.jsx)("span",{children:"\ud83d\uddfe"});case"telephone":return Object(a.jsx)("span",{children:"\ud83d\udcde"})}},x=["name","city","genre","state","telephone"];function v(e){var t=e.restaurantData,n=e.searchTerm;console.log("-----------",n);var r=c.a.useCallback((function(){var e=t.map((function(e){return e.state}));return Array.from(new Set(e)).sort((function(e,t){return e>t?1:-1}))}),[t]),s=c.a.useCallback((function(){var e=[];return t.forEach((function(t){var n=t.genre.split(",");e=e.concat(n)})),Array.from(new Set(e)).sort((function(e,t){return e>t?1:-1}))}),[t]),i=c.a.useState(null),u=Object(o.a)(i,2),l=u[0],j=u[1],h=c.a.useState(null),v=Object(o.a)(h,2),g=v[0],O=v[1],m=c.a.useState(t),y=Object(o.a)(m,2),C=y[0],S=y[1],F=c.a.useState([]),w=Object(o.a)(F,2),N=w[0],k=w[1],L=c.a.useState([0,10]),T=Object(o.a)(L,2),P=T[0],A=T[1],E=c.a.useState(t.length),I=Object(o.a)(E,2),D=I[0],R=I[1];c.a.useEffect((function(){var e=C.slice(P[0],P[1]);k(e)}),[P]),c.a.useEffect((function(){if(l||g||null!==n){var e=G(l,g);S(e),R(e.length),A([0,10])}}),[l,g,n]);var G=function(e,a){var r=t.slice();return e&&(r=r.filter((function(t){return"Choose genre"===e?t:t.genre.split(",").includes(e)}))),a&&(r=r.filter((function(e){return"Choose state"===a?e:e.state===a}))),n&&(r=r.filter((function(e){return b(e.name,n)||b(e.city,n)||b(e.genre,n)||""===n?e:void 0}))),r};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("table",{className:"restaurant-table",children:Object(a.jsxs)("tbody",{children:[Object(a.jsx)("tr",{children:x.map((function(e){return Object(a.jsx)("th",{children:Object(a.jsxs)("div",{style:{textAlign:"center",display:"flex",justifyContent:"center",position:"relative"},children:[Object(a.jsxs)("div",{style:{padding:"32px"},children:[Object(a.jsx)("span",{children:p(e)}),Object(a.jsx)("span",{style:{marginLeft:"10px"},children:e})]}),"state"===e||"genre"===e?Object(a.jsx)(f,{typeOfFilter:"state"===e?g:l,setGenreFilter:j,setStateFilter:O,values:"state"===e?r():s(),selectedHeader:e}):null]})},e)}))}),N.map((function(e,t){return Object(a.jsx)("tr",{children:x.map((function(t,n){return Object(a.jsx)("td",{children:e[t]},n)}))},t)}))]})}),C.length?null:Object(a.jsx)("h2",{children:"We couldn't find anything at this time =("}),Object(a.jsx)(d,{numOfRestaurants:D,tablePaginationInd:P,setTablePaginationInd:A})]})}var g=n(16),O=n.n(g);var m=function(){c.a.useEffect((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://code-challenge.spectrumtoolbox.com/api/restaurants",{headers:{Authorization:"Api-Key q3MNxtfep8Gt"}});case 2:t=e.sent,r(t.data.sort((function(e,t){return e.name>t.name?1:-1})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var e=c.a.useState([]),t=Object(o.a)(e,2),n=t[0],r=t[1],s=c.a.useState(null),i=Object(o.a)(s,2),u=i[0],f=i[1];return Object(a.jsx)("div",{className:"App",children:n.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"List of Restaurants"}),Object(a.jsx)(h,{setSearchTerm:f}),Object(a.jsx)(v,{searchTerm:u,restaurantData:n})]}):Object(a.jsx)("h2",{children:"Loading..."})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root")),y()}},[[46,1,2]]]);
//# sourceMappingURL=main.5d50087f.chunk.js.map